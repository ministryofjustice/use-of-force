{% extends "../../partials/prisonerBannerLayout.njk" %}
{% from "govuk/components/button/macro.njk" import govukButton %} 
{% from "govuk/components/radios/macro.njk" import govukRadios %}
{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}
{% from "govuk/components/warning-text/macro.njk" import govukWarningText %}


{% set pageTitle = 'Are you sure you want to delete this report?' %}

{% set showBacklink = true %}
{% set backlinkHref = '/' + data.reportId + '/view-incident?tab=report' %}

{% block content %}
<div class="govuk-grid-row govuk-body">
  {% if errors.length > 0 %}
    {{
      govukErrorSummary({
        titleText: 'There is a problem',
        errorList: errors,
        attributes: { 'data-qa-errors': true }
      })
    }}
  {% endif %}

  <div class="govuk-grid-column-two-thirds">
    <span class="govuk-caption-xl">Delete a use of force incident </span>
    <h1 class="govuk-heading-xl mainHeading">Delete use of force incident {{ data.reportId }} </h1>
    {{ govukWarningText({
      text: "Deleting this incident will remove the report and its statements from Digital Prison Services.",
      iconFallbackText: "Warning"
    }) }}

    <form method="post" action="delete-incident">
      <input type="hidden" name="_csrf" value="{{ csrfToken }}" />
      {{ govukRadios({
        classes: "govuk-!-margin-bottom-4",
        name: "confirmation",
        fieldset: {
          legend: {
            text: "Are you sure you want to delete this incident?",
            isPageHeading: false,
            classes: "govuk-fieldset__legend--m"
          }
        },
        errorMessage: errors | findError('confirmation'),
        items: [
          {
            value: "yes",
            text: "Yes, delete this incident",
            checked: data.confirmation === 'yes'
          },
          {
            value: "no",
            text: "No, cancel and return to use of force incidents"
          }
        ]

      }) }}

      <div class="govuk-button-group">
        {{ govukButton({
          text: "Continue"
        }) }}
      </div>

    </form>
</div>
</div>

{% endblock %}
