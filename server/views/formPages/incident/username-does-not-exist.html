{% extends "../../partials/layout.html" %} 
{% from "govuk/components/button/macro.njk" import govukButton %} 

{% set pageTitle = 'A username you have entered does not exist' %}

{% block content %}
<div class="govuk-grid-row govuk-body">
  <div class="govuk-grid-column-three-quarters govuk-!-margin-bottom-4">
    <h1 class="govuk-heading-xl">{{ pageTitle }}</h1>

    <p>
      You have entered a username which does not exist:
    </p>
    <ul class="govuk-!-margin-left-3">
        {% for missingUser in data.missingUsers %}
        <li data-qa="missing-user">{{missingUser}}</li>
        {% endfor %}     
    </ul>
    <p>
      You can continue and it will be deleted from the report or you can return to incident details and change it.
    </p>
  </div>
  <div class="govuk-grid-column-three-quarters">

    <div>
      <form method="post">
        <input type="hidden" name="_csrf" value="{{ csrfToken }}" />
        <input type="hidden" name="nextDestination" value="{{ data.nextDestination }}" />
        {{
          govukButton({
            text: 'Continue and delete',
            classes: 'govuk-button',
            attributes: { 'data-qa': 'continue', 'data-submit': true }
          })
        }}

        {% set formName = 'edit-incident-details' if data.nextDestination == 'check-your-answers'  else 'incident-details' %}

        {{
          govukButton({
            text: 'Return to incident details',
            name: 'submit',
            href:  '/report/' + data.bookingId + '/' + formName,
            classes: 'govuk-button govuk-button--secondary govuk-!-margin-left-3',
            attributes: { 'data-qa': 'return-to-incident-details' }
          })
        }}
      </form>
    </div>
  </div>
</div>
{% endblock %}
